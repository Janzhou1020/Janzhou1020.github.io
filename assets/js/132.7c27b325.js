(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{581:function(s,t,a){"use strict";a.r(t);var e=a(7),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"我的博客历程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#我的博客历程"}},[s._v("#")]),s._v(" 我的博客历程")]),s._v(" "),t("h3",{attrs:{id:"第一次创建博客"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第一次创建博客"}},[s._v("#")]),s._v(" 第一次创建博客")]),s._v(" "),t("p",[s._v("尚记时，记之。时光如白驹过隙，岁月匆匆流转，一年接着一年，转眼间便不知不觉过去了。常常我们未曾察觉，日复一日的生活已悄然走远。于是，便有了这个站点，作为记忆的容器，记录那些稍纵即逝的瞬间。这里有我的笔记，日常琐事，吐槽心情，还有做饭的点滴——所有这些，都是我生活的真实写照。")]),s._v(" "),t("p",[s._v("还记得第一次部署博客时是看见了一个分享博客部署的视频，内容大概是这样的")]),s._v(" "),t("ul",[t("li",[s._v("开头：你也想有1个个人博客吗，其实做个人博客非常简单，10分钟部署1个个人博客")]),s._v(" "),t("li",[s._v("获取 wordpress 安装包")]),s._v(" "),t("li",[s._v("获取一个彩虹云主机，将 wordpress 部署在上面")]),s._v(" "),t("li",[s._v("下载主题包 Sakurairo")]),s._v(" "),t("li",[s._v("购买域名，通过配置 CNAME，指向彩虹云主机")]),s._v(" "),t("li",[s._v("启动项目后就可以通过域名访问了")])]),s._v(" "),t("p",[s._v("事实上，彩虹云不是1个服务器，而是类似于虚拟机一样的应用")]),s._v(" "),t("p",[s._v("作为长期部署博客使用来说，并不划算。适合买1个月体验下部署博客，使用博客的感觉，玩一玩")]),s._v(" "),t("p",[s._v("可以看见才这么一点儿应用空间")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/image-20250111215656925.png",alt:"image-20250111215656925"}})]),s._v(" "),t("p",[s._v("在这个应用上用了10多天后我就迁移博客（wordpress）了，迁移到了阿里云服务器（逢着新年有活动，买了个一年的服务器）")]),s._v(" "),t("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20250111215939396.png",alt:"image-20250111215939396"}}),s._v(" "),t("p",[s._v("wordpress的迁移过程还是挺简单的")]),s._v(" "),t("h3",{attrs:{id:"wordpress迁移"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#wordpress迁移"}},[s._v("#")]),s._v(" wordpress迁移")]),s._v(" "),t("h4",{attrs:{id:"_1-首先备份站点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-首先备份站点"}},[s._v("#")]),s._v(" 1.首先备份站点")]),s._v(" "),t("p",[s._v("项目备份：php项目备份直接将项目打包即可")]),s._v(" "),t("p",[s._v("数据库备份：mysqldump -u 用户名 -p 数据库名 > 备份文件.sql")]),s._v(" "),t("h4",{attrs:{id:"_2-准备目标服务器的-lnmp-环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-准备目标服务器的-lnmp-环境"}},[s._v("#")]),s._v(" 2.准备目标服务器的 LNMP 环境")]),s._v(" "),t("p",[t("strong",[s._v("配置 mysql 并导入数据")])]),s._v(" "),t("p",[s._v("首先解决密码问题，博客设置的密码强度和 mysql 不符合，修改 mysql 密码强度")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("set global validate_password_policy=0;\nalter user 'root'@'localhost' identified by '123456';\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("接下来创建数据库 create database myblog;")]),s._v(" "),t("p",[s._v("导入数据：mysql -u 用户名 -p密码 myblog < 文件路径/文件名.sql")]),s._v(" "),t("h4",{attrs:{id:"_3-将项目放置下-nginx-默认项目路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-将项目放置下-nginx-默认项目路径"}},[s._v("#")]),s._v(" 3.将项目放置下 nginx 默认项目路径")]),s._v(" "),t("h4",{attrs:{id:"_4-迁移后的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-迁移后的问题"}},[s._v("#")]),s._v(" 4.迁移后的问题")]),s._v(" "),t("p",[s._v("上传图片出现 无法将上传的文件移动至wp-content/uploads 的提示")]),s._v(" "),t("p",[s._v("观察 nginx 日志，无错误 观察 php 日志，发现有访问权限问题")]),s._v(" "),t("p",[s._v("根据错误提示来看发现是文件权限的问题")]),s._v(" "),t("p",[s._v("解决：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1.修改 nginx 启动用户为 nginx 并重新启动")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/nginx/nginx.conf")]),s._v("\nuser  nginx"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2.修改 php 启动用户和用户组")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/php-fpm/www.conf")]),s._v("\nuser "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" nginx\ngroup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" nginx\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3.重启服务")]),s._v("\nsystemctl restart nginx\nsystemctl restart php-rpm\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4.文件主组配置")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" nginx:nginx wordpress\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("这些做完后发现可以正常上传图片了")]),s._v(" "),t("p",[s._v("然后迁移完后也是一直在优化界面，还有一些其他的功能的展示，最后大概是这个样子")]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/image-20250112193025925.png",alt:"image-20250112193025925"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/5c4ca46d29d058175cf84a8c6558c21-1736680393602-2.png",alt:"5c4ca46d29d058175cf84a8c6558c21"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/b89ceb7382f14dd86fc50c6d8d25e23.png",alt:"b89ceb7382f14dd86fc50c6d8d25e23"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/img/5ec1d82e62cd177125dfe99d16458a9.png",alt:"5ec1d82e62cd177125dfe99d16458a9"}})]),s._v(" "),t("h3",{attrs:{id:"博客主题更换-vuepress"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#博客主题更换-vuepress"}},[s._v("#")]),s._v(" 博客主题更换：vuepress")]),s._v(" "),t("p",[s._v("但是后面我感觉其实博客没必要做这么复杂（也有一些小 bug 影响到了我使用），仅仅作为个人信息记录的网站来说，其实不需要做前后端服务")]),s._v(" "),t("p",[s._v("这个时候在某个机遇下我就刷到了这个博主的文章："),t("a",{attrs:{href:"https://wiki.eryajf.net/",target:"_blank",rel:"noopener noreferrer"}},[s._v("二丫讲梵 (eryajf.net)"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("感觉这个主题才是我想要的博客（非常的精简），而且他是静态网站，不需要服务器托管！可以直接部署在 Github 上访问")]),s._v(" "),t("p",[s._v("在评论区了解到是采用 vuepress 部署的")]),s._v(" "),t("p",[s._v("这个时候我是先将博主提供的主题模板 clone 到本地后先进行学习，优化，然后用了几天在了解了运行流程，各种配置项后我自己也在 Github 部署了一个博客")]),s._v(" "),t("p",[s._v("在学习各种配置项时一定要去读官方文档，可以帮助你做到你想要的效果")]),s._v(" "),t("p",[s._v("官网："),t("a",{attrs:{href:"https://vuepress.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[s._v("首页 | VuePress (vuejs.org)"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("主题官网：https://doc.xugaoyi.com/")]),s._v(" "),t("p",[s._v("主题 GitHub：https://github.com/xugaoyi/vuepress-theme-vdoing")])])}),[],!1,null,null,null);t.default=r.exports}}]);