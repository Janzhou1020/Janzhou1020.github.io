(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{501:function(t,e,a){"use strict";a.r(e);var i=a(7),l=Object(i.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("环境：CentOS 7")]),t._v(" "),e("p",[t._v("第一次错误")]),t._v(" "),e("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240829105507531.png",alt:"image-20240829105507531"}}),t._v(" "),e("p",[t._v("解决：yum install gcc -y")]),t._v(" "),e("p",[t._v("再次编译，出现新的问题：无法找到"),e("code",[t._v("jemalloc/jemalloc.h")]),t._v("头文件")]),t._v(" "),e("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240829110302733.png",alt:"image-20240829110302733"}}),t._v(" "),e("p",[t._v("解决：yum install jemalloc jemalloc-devel")]),t._v(" "),e("p",[t._v("再次编译，又出现新的问题：缺少了几个依赖库的文件，这些文件包括"),e("code",[t._v("libhiredis.a")]),t._v("、"),e("code",[t._v("liblua.a")]),t._v("、"),e("code",[t._v("libjemalloc.a")]),t._v("等")]),t._v(" "),e("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240829110445134.png",alt:"image-20240829110445134"}}),t._v(" "),e("p",[t._v("解决：")]),t._v(" "),e("p",[t._v("cd /opt/redis-3.2.9/deps")]),t._v(" "),e("p",[t._v("make hiredis lua geohash-int jemalloc linenoise")]),t._v(" "),e("p",[t._v("再次编译：")]),t._v(" "),e("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240829110827490.png",alt:"image-20240829110827490"}}),t._v(" "),e("p",[t._v("测试：make test")]),t._v(" "),e("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240829110945073.png",alt:"image-20240829110945073"}}),t._v(" "),e("p",[t._v("解决：yum install tcl")]),t._v(" "),e("p",[t._v("tclsh --version 检查 tcl 版本")]),t._v(" "),e("p",[t._v("如果没有显示版本信息，可以尝试直接在"),e("code",[t._v("%")]),t._v("提示符下输入以下命令来查看 tcl 的版本：puts [info patchlevel]")]),t._v(" "),e("p",[t._v("再次执行 make test")]),t._v(" "),e("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240829111304770.png",alt:"image-20240829111304770"}}),t._v(" "),e("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240829111328801.png",alt:"image-20240829111328801"}}),t._v(" "),e("p",[t._v("重新编译 redis")]),t._v(" "),e("p",[t._v("make distclean")]),t._v(" "),e("p",[t._v("make")]),t._v(" "),e("p",[t._v("make test")]),t._v(" "),e("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240829112121354.png",alt:"image-20240829112121354"}}),t._v(" "),e("p",[t._v("总结：")]),t._v(" "),e("p",[t._v("yum install gcc jemalloc jemalloc-devel -y")]),t._v(" "),e("p",[t._v("cd /opt/redis-3.2.9/deps")]),t._v(" "),e("p",[t._v("make hiredis lua geohash-int jemalloc linenoise")]),t._v(" "),e("p",[t._v("make && make install")])])}),[],!1,null,null,null);e.default=l.exports}}]);