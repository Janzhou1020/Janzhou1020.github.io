(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{548:function(t,s,a){"use strict";a.r(s);var e=a(7),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("安装部署")]),t._v(" "),s("p",[t._v("安装 docker")]),t._v(" "),s("p",[t._v("安装 docker-compose")]),t._v(" "),s("p",[t._v("下载 harbor 压缩包")]),t._v(" "),s("p",[t._v("cd /opt/soft/harbor")]),t._v(" "),s("p",[t._v("vim harbor.cfg")]),t._v(" "),s("p",[t._v("hostname = 10.0.0.88")]),t._v(" "),s("p",[t._v("harbor_admin_password = 123456")]),t._v(" "),s("p",[t._v("./install.sh")]),t._v(" "),s("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240919122014786.png",alt:"image-20240919122014786"}}),t._v(" "),s("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240919122037499.png",alt:"image-20240919122037499"}}),t._v(" "),s("p",[s("strong",[t._v("docker 从 harbor 上传下载镜像")])]),t._v(" "),s("p",[t._v("先将仓库地址加入到 docker 收信任的列表")]),t._v(" "),s("p",[t._v("vi /etc/docker/daemon.json")]),t._v(" "),s("p",[t._v("systemctl daemon-reload")]),t._v(" "),s("p",[t._v("systemctl restart docker")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"registry-mirrors"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://hub.atomgit.com"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"insecure-registries"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10.0.0.88"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("使用 docker login 登录测试")]),t._v(" "),s("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240919140135841.png",alt:"image-20240919140135841"}}),t._v(" "),s("p",[t._v("在仓库查看推送提示")]),t._v(" "),s("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240919130004708.png",alt:"image-20240919130004708"}}),t._v(" "),s("p",[t._v("docker tag nginx:latest 10.0.0.88/test/nginx:v1")]),t._v(" "),s("p",[t._v("docker push 10.0.0.88/test/nginx:v1")]),t._v(" "),s("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240919140356973.png",alt:"image-20240919140356973"}}),t._v(" "),s("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240919140520864.png",alt:"image-20240919140520864"}}),t._v(" "),s("p",[t._v("接下来进行拉取")]),t._v(" "),s("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240919141459027.png",alt:"image-20240919141459027"}}),t._v(" "),s("p",[t._v("docker pull 10.0.0.88/test/nginx:laster")]),t._v(" "),s("img",{staticStyle:{zoom:"80%"},attrs:{src:"/img/image-20240919141546826.png",alt:"image-20240919141546826"}})])}),[],!1,null,null,null);s.default=n.exports}}]);